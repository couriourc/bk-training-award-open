(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{212:function(a,t,e){"use strict";var r=e(1);Object.defineProperty(t,"__esModule",{value:true});t.deleteRecord=_;t.getAvailableAwards=s;t.getAwardById=w;t.getAwards=l;t.postAwards=u;t.postFinishAward=f;t.postRecord=c;t.putAward=p;var n=r(e(4));var d=r(e(3));function i(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,r)}return e}function o(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(Object(e),!0).forEach(function(t){(0,n.default)(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}function u(a){return d.default.post("awards/",a)}function l(a){var t=a.page,e=a.size,r=a.group_id,n=a.award_status;return d.default.get("awards/",{params:{page:t,size:e,group_id:r,award_status:n}})}function s(a){var t=a.page,e=a.size,r=a.award_status,n=a.group_id;return d.default.get("get_available_awards/",{params:{page:t,size:e,award_status:r,group_id:n}})}function c(a,t){return d.default.post("record/",o({is_draft:a},t))}function _(a){console.log(a);return d.default.delete("record/",{data:{id:a}})}function p(a,t){var e=t.award_name,r=t.award_level,n=t.award_description,i=t.award_consultant,o=t.award_image,u=t.award_department_fullname,l=t.award_reviewers,s=t.start_time,c=t.end_time,_=t.award_department_id,p=t.award_consultant_displayname,w=t.award_demand;return d.default.put("awards/",{award_id:a,award_name:e,award_level:r,award_description:n,award_consultant:i,award_image:o,award_department_fullname:u,award_reviewers:l,start_time:s,end_time:c,award_department_id:_,award_consultant_displayname:p,award_demand:w})}function w(a){return d.default.get("/awards/".concat(a,"/"))}function f(a){return d.default.post("/finish_award/".concat(a,"/"))}},214:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.tableMixins=void 0;var r={data:function a(){return{pagination:{count:0,limit:10,current:1},loading:false}}};t.tableMixins=r},292:function(a,t,e){"use strict";e.r(t);var r=e(293);var n=e.n(r);for(var d in r)if(d!=="default")(function(a){e.d(t,a,function(){return r[a]})})(d);t["default"]=n.a},293:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=e(214);var n=e(8);var d=e(212);var i={name:"ended-review",mixins:[r.tableMixins],data:function a(){return{endedReviewRemoteData:[],loading:false}},computed:{endedReviewData:function a(t){var e;return(e=t.endedReviewRemoteData.map(function(a){return{award_id:a["id"],award_name:a["award_name"],award_description:a["award_description"],award_department_fullname:a["award_department_fullname"],award_department_id:a["award_department_id"],award_reviewers:a["award_reviewers"],award_consultant:a["award_consultant"],award_consultant_displayname:a["award_consultant_displayname"],award_consultant_displayname_for_display:a["award_consultant"]+"（"+a["award_consultant_displayname"]+"）",award_demand:a["award_demand"],start_time:a["start_time"],end_time:a["end_time"],approval_state:a["approval_state"]}}))!==null&&e!==void 0?e:[]}},mounted:function a(){this.handleInit()},methods:{handleInit:function a(){Promise.all([this.handleGetEndedAwardAwards()])},handleGetEndedAwardAwards:function a(){var t=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.pagination.current;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.pagination.size;if(this.loading)return;this.loading=true;var i={page:e,size:r,award_status:n.ENDED_REVIEW,group_id:this.$bus.curGlobalGroupId};return(0,d.getAwards)(i).then(function(a){var e=a.data;t.pagination.count=e.count;t.endedReviewRemoteData=e.data}).finally(function(a){t.loading=false})}}};t.default=i},357:function(a,t,e){"use strict";e.r(t);var r=e(398);var n=e(292);for(var d in n)if(d!=="default")(function(a){e.d(t,a,function(){return n[a]})})(d);var i=e(7);var o=Object(i["a"])(n["default"],r["a"],r["b"],false,null,null,null);t["default"]=o.exports},398:function(a,t,e){"use strict";var r=function(){var a=this;var t=a.$createElement;var e=a._self._c||t;return e("self-table",{attrs:{data:a.endedReviewData,loading:a.loading,pagination:a.pagination},on:{"update:pagination":function(t){a.pagination=t},"page-change":function(t){a.handleInit()}}},[e("bk-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项名称",prop:"award_name"}}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项开始时间",prop:"start_time"}}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项截止时间",prop:"end_time"}}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项咨询人",prop:"award_consultant_displayname_for_display"}})],1)};var n=[];e.d(t,"a",function(){return r});e.d(t,"b",function(){return n})}}]);