(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{214:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.tableMixins=void 0;var e={data:function t(){return{pagination:{count:0,limit:10,current:1},loading:false}}};a.tableMixins=e},304:function(t,a,n){"use strict";n.r(a);var e=n(305);var i=n.n(e);for(var r in e)if(r!=="default")(function(t){n.d(a,t,function(){return e[t]})})(r);a["default"]=i.a},305:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.default=void 0;var e=n(214);var i=n(22);var r=n(8);var o=n(155);var l={name:"group-pending-approval",mixins:[e.tableMixins],data:function t(){return{pendingApprovalRemoteData:[]}},computed:{pendingApprovalData:function t(a){var n,e;return(n=(e=a.pendingApprovalRemoteData)===null||e===void 0?void 0:e.map(function(t){return{apply_id:t["apply_id"],group_id:t["group_id"],group_name:t["group_name"],username:t["username"],display_name:t["display_name"],display_name_for_display:(0,o.formatUsernameAndDisplayName)(t["username"],t["display_name"]),status:t["status"],create_time:t["create_time"],update_time:t["update_time"]}}))!==null&&n!==void 0?n:[]}},mounted:function t(){this.handleInit()},methods:{handleInit:function t(){Promise.all([this.handleGetGroupPendingApproval()])},handleGetGroupPendingApproval:function t(){var a=this;if(this.loading)return;this.loading=true;var n={group_id:this.$bus.curGlobalGroupId,status:r.GROUP_PENDING_APPROVAL};return(0,i.getGroupManage)(n).then(function(t){a.pendingApprovalRemoteData=t.data}).finally(function(t){a.loading=false})},handleToPassGroupUser:function t(a){var n={apply_ids:[a["apply_id"]],is_allow:true};this.handlePostGroupManage(n,"已同意用户：".concat(a["display_name_for_display"],"加入").concat(a["group_name"]))},handleRejectGroupUser:function t(a){var n={apply_ids:[a["apply_id"]],is_allow:false};this.handlePostGroupManage(n,"已拒绝用户：".concat(a["display_name_for_display"],"加入").concat(a["group_name"]))},handlePostGroupManage:function t(a,n){var e=this;return(0,i.postGroupManage)(a).then(function(t){e.messageSuccess(n);e.handleInit()})}}};a.default=l},363:function(t,a,n){"use strict";n.r(a);var e=n(404);var i=n(304);for(var r in i)if(r!=="default")(function(t){n.d(a,t,function(){return i[t]})})(r);var o=n(7);var l=Object(o["a"])(i["default"],e["a"],e["b"],false,null,null,null);a["default"]=l.exports},404:function(t,a,n){"use strict";var e=function(){var t=this;var a=t.$createElement;var n=t._self._c||a;return n("self-table",{attrs:{data:t.pendingApprovalData,loading:false,pagination:t.pagination},on:{"update:pagination":function(a){t.pagination=a},"page-change":function(a){t.handleInit()}}},[n("bk-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t._v(" "),n("bk-table-column",{attrs:{label:"申请用户",prop:"display_name_for_display"}}),t._v(" "),n("bk-table-column",{attrs:{label:"申请时间",prop:"create_time"}}),t._v(" "),n("bk-table-column",{attrs:{label:"奖项咨询人",prop:"create_time"}}),t._v(" "),n("bk-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("bk-button",{staticClass:"mr10",attrs:{text:true},on:{click:function(n){t.handleToPassGroupUser(a.row)}}},[t._v("\n                通过\n            ")]),t._v(" "),n("bk-popconfirm",{attrs:{trigger:"click",width:280},on:{confirm:function(n){t.handleRejectGroupUser(a.row)}}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"demo-custom"},[n("i",{staticClass:"bk-icon icon-info-circle-shape pr5 content-icon color-danger",staticStyle:{color:"red"}}),t._v(" "),n("span",{staticClass:"content-text"},[t._v("确认拒绝该用户的申请？")])])]),t._v(" "),n("bk-button",{staticClass:"mr10 ml10",attrs:{theme:"danger",text:true}},[t._v("\n                    拒绝\n                ")])],1)]}}])})],1)};var i=[];n.d(a,"a",function(){return e});n.d(a,"b",function(){return i})}}]);