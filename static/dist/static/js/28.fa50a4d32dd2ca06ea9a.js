(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{214:function(t,a,e){"use strict";var n=e(1);Object.defineProperty(a,"__esModule",{value:true});a.getApplicationById=l;a.getAwardApproval=i;a.getRecord=o;a.postApproval=u;var r=n(e(3));function i(t){var a=t.page,e=t.size,n=t.group_id,i=t.approval_status;return r.default.get("/approval/",{params:{page:a,size:e,group_id:n,approval_status:i}})}function o(t){var a=t.page,e=t.size,n=t.group_id,i=t.apply_status;return r.default.get("record/",{params:{page:a,size:e,group_id:n,apply_status:i}})}function u(t){var a=t.id,e=t.action,n=t.approval_text;return r.default.post("/approval/",{id:a,action:e,approval_text:n})}function l(t){return r.default.get("/application/".concat(t,"/"))}},222:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.applyTableMixins=void 0;var n={data:function t(){return{pagination:{current:1,count:0,limit:10},loading:false}},mounted:function t(){this.handleInit()},methods:{}};a.applyTableMixins=n},296:function(t,a,e){"use strict";e.r(a);var n=e(297);var r=e.n(n);for(var i in n)if(i!=="default")(function(t){e.d(a,t,function(){return n[t]})})(i);a["default"]=r.a},297:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.default=void 0;var n=e(8);var r=e(214);var i=e(222);var o={name:"ing-approval",mixins:[i.applyTableMixins],data:function t(){return{ingApprovalRemoteData:[]}},computed:{ingApprovalData:function t(a){return a.ingApprovalRemoteData}},mounted:function t(){this.handleInit()},methods:{handleInit:function t(){Promise.all([this.handleGetIngApproval()])},handleGetIngApproval:function t(){var a=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.pagination.current;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.pagination.limit;var o={page:e,size:i,group_id:this.$bus.curGlobalGroupId,apply_status:n.ING_APPROVAL};if(this.loading)return;this.loading=true;return(0,r.getRecord)(o).then(function(t){var e=t.data;a.pagination["count"]=e.count;a.ingApprovalRemoteData=e.data}).finally(function(t){a.loading=false})},handleToGetDetail:function t(a){this.$router.push({name:n.DETAIL_ROUTE_PATH,query:{type:"detail",award_id:a["award_id"],record_id:a["record_id"]}})}}};a.default=o},357:function(t,a,e){"use strict";e.r(a);var n=e(398);var r=e(296);for(var i in r)if(i!=="default")(function(t){e.d(a,t,function(){return r[t]})})(i);var o=e(7);var u=Object(o["a"])(r["default"],n["a"],n["b"],false,null,null,null);a["default"]=u.exports},398:function(t,a,e){"use strict";var n=function(){var t=this;var a=t.$createElement;var e=t._self._c||a;return e("self-table",{attrs:{data:t.ingApprovalData,loading:t.loading,pagination:t.pagination},on:{"update:pagination":function(a){t.pagination=a},"page-change":function(a){t.handleInit()}}},[e("bk-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t._v(" "),e("bk-table-column",{attrs:{label:"奖项名称",prop:"ip"}}),t._v(" "),e("bk-table-column",{attrs:{label:"奖项开始时间",prop:"source"}}),t._v(" "),e("bk-table-column",{attrs:{label:"奖项截止时间",prop:"status"}}),t._v(" "),e("bk-table-column",{attrs:{label:"奖项咨询人",prop:"create_time"}}),t._v(" "),e("bk-table-column",{attrs:{label:"当前评审人",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(a){return t._l(a.row["award_reviewers"],function(t){return e("select-search",{key:t,attrs:{type:"self",data:t,"id-key":"username","display-key":"username",value:a.row["award_reviewers"][0]}})})}}])}),t._v(" "),e("bk-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("bk-button",{attrs:{text:true},on:{click:function(e){t.handleToGetDetail(a.row)}}},[t._v("  查看 ")])]}}])})],1)};var r=[];e.d(a,"a",function(){return n});e.d(a,"b",function(){return r})}}]);