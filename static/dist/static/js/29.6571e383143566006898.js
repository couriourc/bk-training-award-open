(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{212:function(a,t,e){"use strict";var r=e(1);Object.defineProperty(t,"__esModule",{value:true});t.deleteRecord=c;t.getAvailableAwards=l;t.getAwardById=p;t.getAwards=s;t.postAwards=u;t.postFinishAward=w;t.postRecord=_;t.putAward=f;var n=r(e(4));var d=r(e(3));function i(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,r)}return e}function o(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(Object(e),!0).forEach(function(t){(0,n.default)(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}function u(a){return d.default.post("awards/",a)}function s(a){var t=a.page,e=a.size,r=a.group_id,n=a.award_status;return d.default.get("awards/",{params:{page:t,size:e,group_id:r,award_status:n}})}function l(a){var t=a.page,e=a.size,r=a.award_status,n=a.group_id;return d.default.get("get_available_awards/",{params:{page:t,size:e,award_status:r,group_id:n}})}function _(a,t){return d.default.post("record/",o({is_draft:a},t))}function c(a){console.log(a);return d.default.delete("record/",{data:{id:a}})}function f(a,t){var e=t.award_name,r=t.award_level,n=t.award_description,i=t.award_consultant,o=t.award_image,u=t.award_department_fullname,s=t.award_reviewers,l=t.start_time,_=t.end_time,c=t.award_department_id,f=t.award_consultant_displayname,p=t.award_demand;return d.default.put("awards/",{award_id:a,award_name:e,award_level:r,award_description:n,award_consultant:i,award_image:o,award_department_fullname:u,award_reviewers:s,start_time:l,end_time:_,award_department_id:c,award_consultant_displayname:f,award_demand:p})}function p(a){return d.default.get("/awards/".concat(a,"/"))}function w(a){return d.default.post("/finish_award/".concat(a,"/"))}},214:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.tableMixins=void 0;var r={data:function a(){return{pagination:{count:0,limit:10,current:1},loading:false}}};t.tableMixins=r},288:function(a,t,e){"use strict";e.r(t);var r=e(289);var n=e.n(r);for(var d in r)if(d!=="default")(function(a){e.d(t,a,function(){return r[a]})})(d);t["default"]=n.a},289:function(a,t,e){"use strict";var r=e(1);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(e(4));var d=e(214);var i=e(212);var o=e(8);var u={name:"ended-approval",mixins:[d.tableMixins],data:function a(){return{ingAwardRemoteData:[],loading:false}},computed:{ingAwardData:function a(t){var e,r;return(e=(r=t.ingAwardRemoteData)===null||r===void 0?void 0:r.map(function(a){return{award_id:a["id"],award_name:a["award_name"],award_description:a["award_description"],award_department_fullname:a["award_department_fullname"],award_department_id:a["award_department_id"],award_reviewers:a["award_reviewers"],award_consultant:a["award_consultant"],award_consultant_displayname:a["award_consultant_displayname"],award_consultant_displayname_for_display:a["award_consultant"]+"（"+a["award_consultant_displayname"]+"）",award_demand:a["award_demand"],start_time:a["start_time"],end_time:a["end_time"],approval_state:a["approval_state"]}}))!==null&&e!==void 0?e:[]}},mounted:function a(){this.handleInit()},methods:{handleInit:function a(){Promise.all([this.handleGetIngAwardAwards()])},handleGetIngAwardAwards:function a(){var t=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.pagination.current;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.pagination.size;if(this.loading)return;this.loading=true;var n={page:e,size:r,award_status:o.ING_AWARD,group_id:this.$bus.curGlobalGroupId};return(0,i.getAwards)(n).then(function(a){var e=a.data;t.pagination.count=e.count;t.ingAwardRemoteData=e.data}).finally(function(a){t.loading=false})},handleToGetDetail:function a(t){var e;this.$router.push({name:o.AWARD_FORM_ROUTE_PATH,query:(e={},(0,n.default)(e,o.AWARD_TYPE_ROUTE_KEY,o.AWARD_TYPE_DETAIL),(0,n.default)(e,"award_id",t["award_id"]),e)})}}};t.default=u},355:function(a,t,e){"use strict";e.r(t);var r=e(396);var n=e(288);for(var d in n)if(d!=="default")(function(a){e.d(t,a,function(){return n[a]})})(d);var i=e(7);var o=Object(i["a"])(n["default"],r["a"],r["b"],false,null,null,null);t["default"]=o.exports},396:function(a,t,e){"use strict";var r=function(){var a=this;var t=a.$createElement;var e=a._self._c||t;return e("self-table",{attrs:{data:a.ingAwardData,loading:a.loading,pagination:a.pagination},on:{"update:pagination":function(t){a.pagination=t},"page-change":function(t){a.handleInit()}}},[e("bk-table-column",{attrs:{type:"index",label:"序号",width:60}}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项名称"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("span",{attrs:{title:t.row["award_name"]},domProps:{textContent:a._s(t.row["award_name"])}})]}}])}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项开始时间"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("span",{attrs:{title:t.row["start_time"]},domProps:{textContent:a._s(t.row["start_time"])}})]}}])}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项截止时间"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("span",{attrs:{title:t.row["end_time"]},domProps:{textContent:a._s(t.row["end_time"])}})]}}])}),a._v(" "),e("bk-table-column",{attrs:{label:"奖项咨询人"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("span",{attrs:{title:t.row["award_consultant_displayname_for_display"]}},[a._v(a._s(t.row["award_consultant_displayname_for_display"]))])]}}])})],1)};var n=[];e.d(t,"a",function(){return r});e.d(t,"b",function(){return n})}}]);