(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18,0],{212:function(e,t,a){"use strict";a.r(t);var r=a(213);var n=a.n(r);for(var i in r)if(i!=="default")(function(e){a.d(t,e,function(){return r[e]})})(i);t["default"]=n.a},213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(269);var n=a(16);var i={name:"select-search",props:{value:{type:Array||String,default:function e(){return[]}},multiple:{type:Boolean,default:function e(){return true}},type:{type:"user"||false||false,default:function e(){return"user"}},idKey:{type:String,default:function e(){return"id"}},filterFn:{type:Function,default:function e(){return true}}},data:function e(t){return{config:{user:{func:t.handleGetUserManageListUsers,idKey:t.idKey||"id",displayKey:"display_name_for_display"},group:{func:t.handleGetDepartment,idKey:t.idKey||"id",displayKey:"full_name"},secretary:{func:t.handleGetSecretaryDepartment,idKey:t.idKey||"id",displayKey:"full_name"}},groupUsers:[],loading:false}},computed:{list:function e(t){var a,r,n;var i=t["config"];var l=t["type"];return(a=(r=t.groupUsers)===null||r===void 0?void 0:(n=r.filter)===null||n===void 0?void 0:n.call(r,function(e){return e[i[l]["displayKey"]]}).filter(t.filterFn))!==null&&a!==void 0?a:[]}},created:function e(){this.handleInit()},methods:{handleInit:function e(){var t=this.type;this.config[t]["func"]()},handleGetDepartment:function e(){var t=this;this.loading=true;var a=this.$http.cache.get(n.GROUP_KEYNAME);if(a){this.groupUsers=a;this.loading=false;return}return(0,r.getListDepartments)({page:1,page_size:1}).then(function(e){var a;if(!((a=e.data)!==null&&a!==void 0&&a.count)){t.messageWarn("出错啦");t.loading=false;return}return(0,r.getListDepartments)({page:1,page_size:e.data.count})}).then(function(e){t.groupUsers=e.data.results;t.$http.cache.set(n.GROUP_KEYNAME,e.data.results)}).finally(function(e){t.loading=false})},handleGetUserManageListUsers:function e(){var t=this;this.loading=true;var a=this.$http.cache.get(n.GROUP_USERS_KEYNAME);if(a){this.groupUsers=a;this.loading=false;return}return(0,r.getListUsers)({page:1,page_size:1}).then(function(e){var a;if(!((a=e.data)!==null&&a!==void 0&&a.count)){t.messageWarn("出错啦");t.loading=false;return}return(0,r.getListUsers)({page:1,page_size:e.data.count})}).then(function(e){if(!e.data.results){t.messageWarn("出错啦");t.loading=false;return}t.groupUsers=e.data.results.map(function(e){e["display_name_for_display"]="".concat(e["username"],"(").concat(e["display_name"],")");return e});t.$http.cache.set(n.GROUP_USERS_KEYNAME,e.data.results)}).finally(function(e){t.loading=false})},handleGetSecretaryDepartment:function e(){var t=this;return(0,r.getSecretaryDepartment)().then(function(e){if(!e.data){t.messageWarn("出错啦");t.loading=false}t.groupUsers=e.data;t.$http.cache.set(n.GROUP_SECRETARY_KEYNAME,e.data)})}}};t.default=i},214:function(e,t,a){"use strict";a.r(t);var r=a(282);var n=a(212);for(var i in n)if(i!=="default")(function(e){a.d(t,e,function(){return n[e]})})(i);var l=a(3);var s=Object(l["a"])(n["default"],r["a"],r["b"],false,null,"575fa907",null);t["default"]=s.exports},269:function(e,t,a){"use strict";var r=a(1);Object.defineProperty(t,"__esModule",{value:true});t.getListDepartments=i;t.getListUsers=l;t.getSecretaryDepartment=s;var n=r(a(6));function i(e){var t=e.page,a=e.page_size,r=e.fuzzy_lookups;return n.default.get("/usermanage/list_departments/",{params:{page:t,page_size:a,fuzzy_lookups:r}})}function l(e){var t=e.page,a=e.page_size,r=e.fuzzy_lookups;return n.default.get("/usermanage/list_users/",{params:{page:t,page_size:a,fuzzy_lookups:r}})}function s(){return n.default.get("/secretary_department/")}},272:function(e,t,a){"use strict";a.r(t);var r=a(273);var n=a.n(r);for(var i in r)if(i!=="default")(function(e){a.d(t,e,function(){return r[e]})})(i);t["default"]=n.a},273:function(e,t,a){"use strict";var r=a(1);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(214));var i={name:"detail-info",components:{SelectSearch:n.default},props:{awardForm:{type:Object,default:function e(){return{award_name:"",award_consultant:"",award_level:"",start_time:"",end_time:"",award_description:""}}}},data:function e(){return{}},methods:{handleInit:function e(){}}};t.default=i},274:function(e,t,a){},282:function(e,t,a){"use strict";var r=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("bk-select",{attrs:{placeholder:e.$attrs["placeholder"],"ext-cls":e.$attrs["ext-cls"],readonly:e.$attrs["readonly"],disabled:e.$attrs["disabled"],list:e.list,"id-key":e.config[e.type]["idKey"],"display-key":e.config[e.type]["displayKey"],loading:e.loading,clearable:true,searchable:true,"enable-virtual-scroll":true,multiple:e.multiple,"display-tag":true,value:e.value,"is-tag-width-limit":false},on:{change:function(t){e.$emit("update:value",t)}}})};var n=[];a.d(t,"a",function(){return r});a.d(t,"b",function(){return n})},314:function(e,t,a){"use strict";a.r(t);var r=a(342);var n=a(272);for(var i in n)if(i!=="default")(function(e){a.d(t,e,function(){return n[e]})})(i);var l=a(315);var s=a(3);var u=Object(s["a"])(n["default"],r["a"],r["b"],false,null,"f94c31a2",null);t["default"]=u.exports},315:function(e,t,a){"use strict";var r=a(274);var n=a.n(r);var i=n.a},342:function(e,t,a){"use strict";var r=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"detail-form-container"},[a("bk-divider",{attrs:{align:"center"}},[e._v("基本信息")]),e._v(" "),a("bk-form",{attrs:{"label-width":140,"form-type":"horizontal","ext-cls":"detail-form"}},[a("bk-form-item",{attrs:{label:"奖项名"}},[a("bk-input",{attrs:{disabled:true,placeholder:"奖项名","ext-cls":"detail-input"},model:{value:e.awardForm["award_name"],callback:function(t){e.$set(e.awardForm,"award_name",t)},expression:"awardForm['award_name']"}})],1),e._v(" "),a("bk-form-item",{attrs:{label:"所属公司"}},[a("bk-input",{attrs:{disabled:true,placeholder:"所属组织","ext-cls":"detail-input"},model:{value:e.awardForm["award_department_fullname"],callback:function(t){e.$set(e.awardForm,"award_department_fullname",t)},expression:"awardForm['award_department_fullname']"}})],1),e._v(" "),a("bk-form-item",{attrs:{label:"接口人"}},[a("select-search",{attrs:{value:e.awardForm["award_consultant"],"ext-cls":"detail-input",placeholder:"接口人","id-key":"username",disabled:true,multiple:false}})],1),e._v(" "),a("bk-form-item",{attrs:{label:"奖项级别"}},[a("bk-input",{attrs:{disabled:true,placeholder:"奖项级别","ext-cls":"detail-input"},model:{value:e.awardForm["award_level"],callback:function(t){e.$set(e.awardForm,"award_level",t)},expression:"awardForm['award_level']"}})],1),e._v(" "),a("bk-form-item",{attrs:{label:"开始申请时间"}},[a("bk-input",{attrs:{disabled:true,placeholder:"开始申请时间","ext-cls":"detail-input"},model:{value:e.awardForm["start_time"],callback:function(t){e.$set(e.awardForm,"start_time",t)},expression:"awardForm['start_time']"}})],1),e._v(" "),a("bk-form-item",{attrs:{label:"截止申请时间"}},[a("bk-input",{attrs:{disabled:true,placeholder:"截止申请时间","ext-cls":"detail-input"},model:{value:e.awardForm["end_time"],callback:function(t){e.$set(e.awardForm,"end_time",t)},expression:"awardForm['end_time']"}})],1),e._v(" "),a("bk-form-item",{attrs:{label:"奖项描述"}},[a("bk-input",{attrs:{type:"textarea",rows:3,disabled:true,placeholder:"奖项描述","ext-cls":"detail-input"},model:{value:e.awardForm["award_description"],callback:function(t){e.$set(e.awardForm,"award_description",t)},expression:"awardForm['award_description']"}})],1)],1)],1)};var n=[];a.d(t,"a",function(){return r});a.d(t,"b",function(){return n})}}]);